<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <meta name="format-detection" content="telephone=no"/>
    <title>Histroy - pushState</title>

    <!--link rel="stylesheet" href=""/-->
    <!--style type="text/css">
    </style-->

    <style type="text/css">
    pre { color: #69c; }
    </style>

    <!--script type="text/javascript">
    </script-->
    <!--script type="text/javascript" src=""></script-->
    <script src="../../fe/jquery/jquery-2.1.3.js"></script>
    <script src="../../fe/promise/js/promise-6.1.0.js"></script>
</head>

<body>


<div id="info"></div>


<script>

console.log = function(str){
    $('#info').append(
        '<div>'
            + str
            + '</div>'
    );
}

</script>

</body>

<script type="text/javascript">

(function(){

    if ( !history.pushState ) {
        console.log('history.pushState is not supported');
        return;
    }

    console.log(history.state);

    setTimeout(function(){
        history.pushState(1, 1, '/abc');
        console.log([
            '<pre>'
            , "history.pushState(1, 1, '/abc');"
            , '</pre>'
        ].join(''));
        console.log(history.state);
    }, 2000);

    setTimeout(function(){
        history.pushState(2, 2, '/ddd/iea.html');
        console.log([
            '<pre>'
            , "history.pushState(2, 2, '/ddd/iea.html');"
            , '</pre>'
        ].join(''));
        console.log(history.state);
    }, 4000);

    setTimeout(function(){
        history.pushState(3, 3, '/eee/ok.php');
        console.log([
            '<pre>'
            , "history.pushState(3, 3, '/eee/ok.php');"
            , '</pre>'
        ].join(''));
        console.log(history.state);
    }, 6000);

    setTimeout(function(){
        console.log([
            '<pre>'
            , "history.go(-3);"
            , '</pre>'
        ].join(''));
        history.go(-3);
    }, 8000);



})();

</script>

<!--script type="text/javascript">
</script-->
<!--script type="text/javascript" src=""></script-->

</html>

